(()=>{"use strict";const t=()=>{const t=document.querySelectorAll(".item"),e=document.querySelector(".game-table"),s=document.querySelector(".results-table"),r=document.querySelector(".first-score-table .score"),i=document.querySelector(".first-score-table");let n=+r.getAttribute("data-score");const o=document.querySelector(".second-score-table .score"),l=document.querySelector(".second-score-table");let c=+r.getAttribute("data-score");const d=d=>{new Promise((s=>{e.getAttribute("data-game-status")||(e.setAttribute("data-game-status","in-game"),t.forEach((t=>{t!=d&&t.animate([{filter:"brightness(100%)"},{filter:"brightness(30%)"}],{duration:1e3,iterations:1}).finished.then((()=>{t.style.filter="brightness(30%)",s()}))})))})).then((()=>{new Promise((t=>{if("item scissors"===d.className){const s=document.createElement("div");s.classList.add("item"),s.classList.add("scissors"),s.innerHTML='<img src="src/images/icon-scissors.svg">',s.setAttribute("data-clone",""),e.append(s),d.style.filter="brightness(30%)",s.style.boxShadow="none",d.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset",s.style.transform="translate(-25%, -25%) rotate(0deg)",s.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-24%, -159%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{s.style.transform="translate(-24%, -159%) rotate(-45deg)",s.style.zIndex="-1",t()}))}if("item paper"===d.className){const s=document.createElement("div");s.classList.add("item"),s.classList.add("paper"),s.innerHTML='<img src="src/images/icon-paper.svg">',s.setAttribute("data-clone",""),e.append(s),d.style.filter="brightness(30%)",s.style.boxShadow="none",d.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset",s.style.transform="translate(-25%, -25%) rotate(0deg)",s.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-141%, 25%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{s.style.transform="translate(-141%, 25%) rotate(-45deg)",s.style.zIndex="-1",t()}))}if("item rock"===d.className){const s=document.createElement("div");s.classList.add("item"),s.classList.add("rock"),s.innerHTML='<img src="src/images/icon-rock.svg">',s.setAttribute("data-clone",""),e.append(s),d.style.filter="brightness(30%)",s.style.boxShadow="none",d.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset",s.style.transform="translate(-25%, -25%) rotate(0deg)",s.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(83%, 25%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{s.style.transform="translate(83%, 25%) rotate(-45deg)",s.style.zIndex="-1",t()}))}})).then((()=>{new Promise((e=>{let s=function(t,e){let s=10+6*Math.random();return Math.floor(s)}(),a=0;function r(t){return t<2?++a:a=0,a}function i(s,a){setTimeout((()=>{t[a].style.filter="brightness(70%)"}),120),setTimeout((()=>{t[a].style.filter="brightness(30%)"}),500),s-=1;let n=r(a);setTimeout((()=>{s>1?i(s,n):setTimeout((()=>{t[n].style.filter="brightness(100%)",t[n].style.boxShadow="none",t[n].style.transitionDuration="0.8s",t[n].style.transform="translate(-25%, -21%)",e(n)}),100)}),320)}setTimeout((()=>{i(s,a)}),400)})).then((t=>{new Promise((e=>{setTimeout((()=>{"item rock"==d.className&&2==t?(s.innerHTML="YOU WON",s.classList.add("won"),n+=1,r.innerHTML=n,i.classList.add("active"),r.setAttribute("data-score",n)):"item rock"==d.className&&1==t?(s.innerHTML="YOU LOSE",s.classList.add("lose"),c+=1,o.innerHTML=c,l.classList.add("active"),o.setAttribute("data-score",c)):"item rock"==d.className&&(s.innerHTML="DRAW",s.classList.add("draw")),"item paper"==d.className&&0==t?(s.innerHTML="YOU WON",s.classList.add("won"),n+=1,r.innerHTML=n,i.classList.add("active"),r.setAttribute("data-score",n)):"item paper"==d.className&&2==t?(s.innerHTML="YOU LOSE",s.classList.add("lose"),c+=1,o.innerHTML=c,l.classList.add("active"),o.setAttribute("data-score",c)):"item paper"==d.className&&(s.innerHTML="DRAW",s.classList.add("draw")),"item scissors"==d.className&&1==t?(s.innerHTML="YOU WON",s.classList.add("won"),n+=1,r.innerHTML=n,i.classList.add("active"),r.setAttribute("data-score",n)):"item scissors"==d.className&&0==t?(s.innerHTML="YOU LOSE",s.classList.add("lose"),c+=1,o.innerHTML=c,l.classList.add("active"),o.setAttribute("data-score",c)):"item scissors"==d.className&&(s.innerHTML="DRAW",s.classList.add("draw")),e()}),1e3)}))})).then((()=>{new Promise((e=>{setTimeout((()=>{t.forEach((t=>{t.style.transitionDuration="unset","item scissors"===t.className&&t.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-24%, -159%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{t.style.transform="translate(-24%, -159%) rotate(-45deg)",t.style.filter="brightness(30%)",document.querySelector("[data-clone]").remove(),e()})),"item paper"===t.className&&t.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-141%, 25%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{t.style.transform="translate(-141%, 25%) rotate(-45deg)",t.style.filter="brightness(30%)"})),"item rock"===t.className&&t.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(83%, 25%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{t.style.transform="translate(83%, 25%) rotate(-45deg)",t.style.filter="brightness(30%)"}))}))}),3e3)})).then((()=>{new Promise((e=>{s.innerHTML="",s.classList.contains("lose")&&(s.classList.remove("lose"),l.classList.remove("active")),s.classList.contains("won")&&(s.classList.remove("won"),i.classList.remove("active")),s.classList.contains("draw")&&s.classList.remove("draw"),t.forEach((t=>{"item scissors"===t.className&&(t.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset"),"item paper"===t.className&&(t.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset"),"item rock"===t.className&&(t.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset")})),e()})).then((()=>{a()}))}))}))}))}))};t.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),d(t)}),{once:!0})}))},e=document.querySelectorAll(".item"),s=document.querySelector(".game-table"),a=()=>{new Promise((t=>{e.forEach((e=>{"item scissors"===e.className&&e.animate([{transform:"translate(-24%, -159%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)"})),"item paper"===e.className&&e.animate([{transform:"translate(-141%, 25%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)"})),"item rock"===e.className&&e.animate([{transform:"translate(83%, 25%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)",t()}))}))})).then((()=>{s.getAttribute("data-game-status","in-game")&&s.removeAttribute("data-game-status","in-game"),t()}))};setTimeout((()=>{const t=document.querySelectorAll(".item"),e=document.querySelector(".game-table"),s=(t,e)=>{"hide"===e?(t.style.boxShadow="none",t.style.transitionDuration="0.8s",t.style.transform="translate(-25%, -21%)"):("item scissors"===t.className&&(t.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"),"item paper"===t.className&&(t.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"),"item rock"===t.className&&(t.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"))};t.forEach((t=>{t.addEventListener("mousemove",(()=>{e.getAttribute("data-game-status","in-game")||s(t,"hide")})),t.addEventListener("mouseout",(()=>{e.getAttribute("data-game-status","in-game")||s(t,"remove")}))}))}),1600),a()})();