(()=>{"use strict";const t=()=>{const t=new Audio("https://www.fesliyanstudios.com/play-mp3/5269"),e=document.querySelectorAll(".item"),s=document.querySelector(".game-table"),r=document.querySelector(".results-table"),i=document.querySelector(".first-score-table .score"),n=document.querySelector(".first-score-table");let o=+i.getAttribute("data-score");const l=document.querySelector(".second-score-table .score"),c=document.querySelector(".second-score-table");let d=+i.getAttribute("data-score");const m=m=>{new Promise((t=>{s.getAttribute("data-game-status")||(s.setAttribute("data-game-status","in-game"),e.forEach((e=>{e!=m&&e.animate([{filter:"brightness(100%)"},{filter:"brightness(30%)"}],{duration:1e3,iterations:1}).finished.then((()=>{e.style.filter="brightness(30%)",t()}))})))})).then((()=>{new Promise((t=>{if("item scissors"===m.className){const e=document.createElement("div");e.classList.add("item"),e.classList.add("scissors"),e.innerHTML='<img src="src/images/icon-scissors.svg">',e.setAttribute("data-clone",""),s.append(e),m.style.filter="brightness(30%)",e.style.boxShadow="none",m.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset",e.style.transform="translate(-25%, -25%) rotate(0deg)",e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-24%, -159%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{e.style.transform="translate(-24%, -159%) rotate(-45deg)",e.style.zIndex="-1",t()}))}if("item paper"===m.className){const e=document.createElement("div");e.classList.add("item"),e.classList.add("paper"),e.innerHTML='<img src="src/images/icon-paper.svg">',e.setAttribute("data-clone",""),s.append(e),m.style.filter="brightness(30%)",e.style.boxShadow="none",m.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset",e.style.transform="translate(-25%, -25%) rotate(0deg)",e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-141%, 25%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{e.style.transform="translate(-141%, 25%) rotate(-45deg)",e.style.zIndex="-1",t()}))}if("item rock"===m.className){const e=document.createElement("div");e.classList.add("item"),e.classList.add("rock"),e.innerHTML='<img src="src/images/icon-rock.svg">',e.setAttribute("data-clone",""),s.append(e),m.style.filter="brightness(30%)",e.style.boxShadow="none",m.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset",e.style.transform="translate(-25%, -25%) rotate(0deg)",e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(83%, 25%) rotate(-45deg)"}],{duration:750,iterations:1}).finished.then((()=>{e.style.transform="translate(83%, 25%) rotate(-45deg)",e.style.zIndex="-1",t()}))}})).then((()=>{new Promise((s=>{let a=function(t,e){let s=10+6*Math.random();return Math.floor(s)}(),r=0;function i(t){return t<2?++r:r=0,r}function n(a,r){setTimeout((()=>{e[r].style.filter="brightness(70%)"}),120),setTimeout((()=>{e[r].style.filter="brightness(30%)"}),500),a-=1;let o=i(r);setTimeout((()=>{a>1?n(a,o):setTimeout((()=>{e[o].style.filter="brightness(100%)",e[o].style.boxShadow="none",e[o].style.transitionDuration="0.8s",e[o].style.transform="translate(-25%, -21%)",t.play(),s(o)}),100)}),320)}setTimeout((()=>{n(a,r)}),400)})).then((t=>{new Promise((e=>{setTimeout((()=>{"item rock"==m.className&&2==t?(r.innerHTML="YOU WON",r.classList.add("won"),o+=1,i.innerHTML=o,n.classList.add("active"),i.setAttribute("data-score",o)):"item rock"==m.className&&1==t?(r.innerHTML="YOU LOSE",r.classList.add("lose"),d+=1,l.innerHTML=d,c.classList.add("active"),l.setAttribute("data-score",d)):"item rock"==m.className&&(r.innerHTML="DRAW",r.classList.add("draw")),"item paper"==m.className&&0==t?(r.innerHTML="YOU WON",r.classList.add("won"),o+=1,i.innerHTML=o,n.classList.add("active"),i.setAttribute("data-score",o)):"item paper"==m.className&&2==t?(r.innerHTML="YOU LOSE",r.classList.add("lose"),d+=1,l.innerHTML=d,c.classList.add("active"),l.setAttribute("data-score",d)):"item paper"==m.className&&(r.innerHTML="DRAW",r.classList.add("draw")),"item scissors"==m.className&&1==t?(r.innerHTML="YOU WON",r.classList.add("won"),o+=1,i.innerHTML=o,n.classList.add("active"),i.setAttribute("data-score",o)):"item scissors"==m.className&&0==t?(r.innerHTML="YOU LOSE",r.classList.add("lose"),d+=1,l.innerHTML=d,c.classList.add("active"),l.setAttribute("data-score",d)):"item scissors"==m.className&&(r.innerHTML="DRAW",r.classList.add("draw")),e()}),1e3)}))})).then((()=>{new Promise((t=>{setTimeout((()=>{e.forEach((e=>{e.style.transitionDuration="unset","item scissors"===e.className&&e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-24%, -159%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-24%, -159%) rotate(-45deg)",e.style.filter="brightness(30%)",document.querySelector("[data-clone]").remove(),t()})),"item paper"===e.className&&e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(-141%, 25%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-141%, 25%) rotate(-45deg)",e.style.filter="brightness(30%)"})),"item rock"===e.className&&e.animate([{transform:"translate(-25%, -25%) rotate(0deg)"},{transform:"translate(83%, 25%) rotate(-45deg)",filter:"brightness(30%)"}],{duration:1700,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(83%, 25%) rotate(-45deg)",e.style.filter="brightness(30%)"}))}))}),3e3)})).then((()=>{new Promise((t=>{r.innerHTML="",r.classList.contains("lose")&&(r.classList.remove("lose"),c.classList.remove("active")),r.classList.contains("won")&&(r.classList.remove("won"),n.classList.remove("active")),r.classList.contains("draw")&&r.classList.remove("draw"),e.forEach((t=>{"item scissors"===t.className&&(t.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset"),"item paper"===t.className&&(t.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset"),"item rock"===t.className&&(t.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset")})),t()})).then((()=>{a()}))}))}))}))}))};e.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),m(t)}),{once:!0})}))},e=document.querySelectorAll(".item"),s=document.querySelector(".game-table"),a=()=>{new Promise((t=>{e.forEach((e=>{"item scissors"===e.className&&e.animate([{transform:"translate(-24%, -159%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)"})),"item paper"===e.className&&e.animate([{transform:"translate(-141%, 25%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)"})),"item rock"===e.className&&e.animate([{transform:"translate(83%, 25%) rotate(-45deg)",filter:"brightness(30%)"},{transform:"translate(-25%, -25%) rotate(0deg)",filter:"brightness(100%)"}],{duration:1500,easing:"cubic-bezier(0.5, 0.5, 0.4, 1)",iterations:1}).finished.then((()=>{e.style.transform="translate(-25%, -25%) rotate(0deg)",e.style.filter="brightness(100%)",t()}))}))})).then((()=>{s.getAttribute("data-game-status","in-game")&&s.removeAttribute("data-game-status","in-game"),t()}))};setTimeout((()=>{const t=document.querySelectorAll(".item"),e=document.querySelector(".game-table"),s=(t,e)=>{"hide"===e?(t.style.boxShadow="none",t.style.transitionDuration="0.8s",t.style.transform="translate(-25%, -21%)"):("item scissors"===t.className&&(t.style.boxShadow="0 8px rgb(180, 90, 174) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"),"item paper"===t.className&&(t.style.boxShadow="0 8px rgb(12, 125, 98) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"),"item rock"===t.className&&(t.style.boxShadow="0 8px rgb(211, 150, 15) , 0 6px rgb(113 113 113 / 42%) inset",t.style.transitionDuration="0.6s",t.style.transform="translate(-25%, -25%)"))};t.forEach((t=>{t.addEventListener("mousemove",(()=>{e.getAttribute("data-game-status","in-game")||s(t,"hide")})),t.addEventListener("mouseout",(()=>{e.getAttribute("data-game-status","in-game")||s(t,"remove")}))}))}),1600),a()})();